2025-07-26 12:30:38,210 - INFO - 开始提取词汇 - 难度级别: advanced
2025-07-26 12:30:38,210 - INFO - 调用OpenAI API...
2025-07-26 12:30:38,396 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 13:33:20,565 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-26 13:33:20,565 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 13:33:20,566 - INFO -  * Restarting with stat
2025-07-26 13:33:20,993 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 13:33:20,995 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 13:33:21,424 - WARNING -  * Debugger is active!
2025-07-26 13:33:21,543 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 13:33:25,652 - INFO - 127.0.0.1 - - [26/Jul/2025 13:33:25] "GET / HTTP/1.1" 200 -
2025-07-26 13:33:25,707 - INFO - 127.0.0.1 - - [26/Jul/2025 13:33:25] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 13:33:25,709 - INFO - 127.0.0.1 - - [26/Jul/2025 13:33:25] "GET /static/js/app.js HTTP/1.1" 200 -
2025-07-26 13:33:26,094 - INFO - 127.0.0.1 - - [26/Jul/2025 13:33:26] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__59aa4124_84b3_44ae_abd7_32c7d055677b__0 HTTP/1.1[0m" 404 -
2025-07-26 13:33:26,100 - INFO - 127.0.0.1 - - [26/Jul/2025 13:33:26] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__ce5d21a1_3abc_4cc0_aa49_5b23856adcc9__1 HTTP/1.1[0m" 404 -
2025-07-26 13:33:27,333 - INFO - 127.0.0.1 - - [26/Jul/2025 13:33:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-26 13:34:08,033 - INFO - 开始提取词汇 - 难度级别: advanced
2025-07-26 13:34:08,033 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 13:34:08,033 - INFO - 调用OpenAI API...
2025-07-26 13:34:08,035 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：高级/学术词汇（IELTS/TOEFL/GRE文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 单词 (word)\n       - 词性 (pos): 使用缩写 (n/v/adj/adv/prep/conj/pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": "v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": "n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 13:34:08,046 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 13:34:08,095 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7aa2242bd290>
2025-07-26 13:34:08,095 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7aa25a78fad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 13:34:08,130 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7aa22590de90>
2025-07-26 13:34:08,130 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 13:34:08,131 - DEBUG - send_request_headers.complete
2025-07-26 13:34:08,131 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 13:34:08,131 - DEBUG - send_request_body.complete
2025-07-26 13:34:08,131 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 13:34:08,194 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 05:34:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753508045864; path=/'), (b'Set-Cookie', b'HWWAFSESID=3ae598ba75cb0c1c5e; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'436940d5bcefdf99507d43a6e2c35916'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 13:34:08,195 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 13:34:08,195 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 13:34:27,277 - DEBUG - receive_response_body.complete
2025-07-26 13:34:27,277 - DEBUG - response_closed.started
2025-07-26 13:34:27,277 - DEBUG - response_closed.complete
2025-07-26 13:34:27,278 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 13:34:27,279 - DEBUG - 原始解析到 8 个词汇项
2025-07-26 13:34:27,279 - DEBUG - 验证后保留 8 个有效词汇项
2025-07-26 13:34:27,279 - INFO - 127.0.0.1 - - [26/Jul/2025 13:34:27] "POST /extract HTTP/1.1" 200 -
2025-07-26 13:34:37,073 - INFO - 开始导出词汇表到Excel，共 8 个词汇项
2025-07-26 13:34:37,104 - INFO - 成功导出美观的词汇表: exports/vocabulary_20250726_133437.xlsx
2025-07-26 13:34:37,105 - INFO - 127.0.0.1 - - [26/Jul/2025 13:34:37] "POST /export HTTP/1.1" 200 -
2025-07-26 13:34:37,113 - INFO - 127.0.0.1 - - [26/Jul/2025 13:34:37] "[33mGET /download/exports/vocabulary_20250726_133437.xlsx HTTP/1.1[0m" 404 -
2025-07-26 13:34:43,704 - INFO - 127.0.0.1 - - [26/Jul/2025 13:34:43] "[33mGET /download/exports/vocabulary_20250726_133437.xlsx HTTP/1.1[0m" 404 -
2025-07-26 13:34:44,894 - INFO - 开始导出词汇表到Excel，共 8 个词汇项
2025-07-26 13:34:44,913 - INFO - 成功导出美观的词汇表: exports/vocabulary_20250726_133444.xlsx
2025-07-26 13:34:44,914 - INFO - 127.0.0.1 - - [26/Jul/2025 13:34:44] "POST /export HTTP/1.1" 200 -
2025-07-26 13:34:44,928 - INFO - 127.0.0.1 - - [26/Jul/2025 13:34:44] "[33mGET /download/exports/vocabulary_20250726_133444.xlsx HTTP/1.1[0m" 404 -
2025-07-26 13:35:45,688 - INFO - 开始导出词汇表到Excel，共 8 个词汇项
2025-07-26 13:35:45,705 - INFO - 成功导出美观的词汇表: exports/vocabulary_20250726_133545.xlsx
2025-07-26 13:35:45,705 - INFO - 127.0.0.1 - - [26/Jul/2025 13:35:45] "POST /export HTTP/1.1" 200 -
2025-07-26 13:35:45,717 - INFO - 127.0.0.1 - - [26/Jul/2025 13:35:45] "[33mGET /download/exports/vocabulary_20250726_133545.xlsx HTTP/1.1[0m" 404 -
2025-07-26 13:41:02,399 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-26 13:41:02,399 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 13:41:02,400 - INFO -  * Restarting with stat
2025-07-26 13:41:02,970 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 13:41:02,973 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 13:41:03,582 - WARNING -  * Debugger is active!
2025-07-26 13:41:03,584 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 13:41:05,664 - INFO - 127.0.0.1 - - [26/Jul/2025 13:41:05] "GET / HTTP/1.1" 200 -
2025-07-26 13:41:05,772 - INFO - 127.0.0.1 - - [26/Jul/2025 13:41:05] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 13:41:05,777 - INFO - 127.0.0.1 - - [26/Jul/2025 13:41:05] "GET /static/js/app.js HTTP/1.1" 200 -
2025-07-26 13:41:06,490 - INFO - 127.0.0.1 - - [26/Jul/2025 13:41:06] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__665a7124_8b8e_4c1a_b09e_2637a4d6615b__0 HTTP/1.1[0m" 404 -
2025-07-26 13:41:06,503 - INFO - 127.0.0.1 - - [26/Jul/2025 13:41:06] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__5c0f9b6b_0f98_4b0c_9cbd_367041b613d3__1 HTTP/1.1[0m" 404 -
2025-07-26 13:41:12,024 - INFO - 开始提取词汇 - 难度级别: advanced
2025-07-26 13:41:12,025 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 13:41:12,026 - INFO - 调用OpenAI API...
2025-07-26 13:41:12,031 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：高级/学术词汇（IELTS/TOEFL/GRE文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 单词 (word)\n       - 词性 (pos): 使用缩写 (n/v/adj/adv/prep/conj/pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": "v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": "n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 13:41:12,044 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 13:41:12,100 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x75edd8f64e90>
2025-07-26 13:41:12,101 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x75ee0e3aba40> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 13:41:12,136 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x75ee0b95c610>
2025-07-26 13:41:12,136 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 13:41:12,137 - DEBUG - send_request_headers.complete
2025-07-26 13:41:12,137 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 13:41:12,137 - DEBUG - send_request_body.complete
2025-07-26 13:41:12,137 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 13:41:12,180 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 05:41:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753508468124; path=/'), (b'Set-Cookie', b'HWWAFSESID=11f1e91f35be951e1e; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'09b224f9ee47c2c79d51c12fce94b1b9'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 13:41:12,181 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 13:41:12,182 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 13:41:35,125 - DEBUG - receive_response_body.complete
2025-07-26 13:41:35,126 - DEBUG - response_closed.started
2025-07-26 13:41:35,126 - DEBUG - response_closed.complete
2025-07-26 13:41:35,127 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 13:41:35,130 - DEBUG - 原始解析到 8 个词汇项
2025-07-26 13:41:35,131 - DEBUG - 验证后保留 8 个有效词汇项
2025-07-26 13:41:35,132 - INFO - 127.0.0.1 - - [26/Jul/2025 13:41:35] "POST /extract HTTP/1.1" 200 -
2025-07-26 13:42:13,462 - INFO - 开始导出词汇表到Excel，共 8 个词汇项
2025-07-26 13:42:13,503 - INFO - 成功导出美观的词汇表: exports/vocabulary_20250726_134213.xlsx
2025-07-26 13:42:13,504 - INFO - 127.0.0.1 - - [26/Jul/2025 13:42:13] "POST /export HTTP/1.1" 200 -
2025-07-26 13:42:13,525 - INFO - 127.0.0.1 - - [26/Jul/2025 13:42:13] "GET /download/vocabulary_20250726_134213.xlsx HTTP/1.1" 200 -
2025-07-26 13:42:52,630 - INFO - 开始提取词汇 - 难度级别: basic
2025-07-26 13:42:52,631 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 13:42:52,632 - INFO - 调用OpenAI API...
2025-07-26 13:42:52,634 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：基础词汇（cet4文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 单词 (word)\n       - 词性 (pos): 使用缩写 (n/v/adj/adv/prep/conj/pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": "v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": "n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 13:42:52,637 - DEBUG - close.started
2025-07-26 13:42:52,638 - DEBUG - close.complete
2025-07-26 13:42:52,638 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 13:42:52,677 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x75edd8fb6290>
2025-07-26 13:42:52,678 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x75ee0e3aba40> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 13:42:52,718 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x75edd8fb5fd0>
2025-07-26 13:42:52,720 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 13:42:52,721 - DEBUG - send_request_headers.complete
2025-07-26 13:42:52,722 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 13:42:52,722 - DEBUG - send_request_body.complete
2025-07-26 13:42:52,723 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 13:42:52,767 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 05:42:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'0f84a4d136274e70b39eabc8abffffe1'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 13:42:52,768 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 13:42:52,769 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 13:43:13,852 - DEBUG - receive_response_body.complete
2025-07-26 13:43:13,853 - DEBUG - response_closed.started
2025-07-26 13:43:13,853 - DEBUG - response_closed.complete
2025-07-26 13:43:13,854 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 13:43:13,856 - DEBUG - 原始解析到 8 个词汇项
2025-07-26 13:43:13,856 - DEBUG - 验证后保留 8 个有效词汇项
2025-07-26 13:43:13,856 - INFO - 127.0.0.1 - - [26/Jul/2025 13:43:13] "POST /extract HTTP/1.1" 200 -
2025-07-26 13:47:20,466 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-26 13:47:20,467 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 13:47:20,468 - INFO -  * Restarting with stat
2025-07-26 13:47:21,044 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 13:47:21,046 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 13:47:21,701 - WARNING -  * Debugger is active!
2025-07-26 13:47:21,703 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 13:47:26,269 - INFO - 127.0.0.1 - - [26/Jul/2025 13:47:26] "GET / HTTP/1.1" 200 -
2025-07-26 13:47:26,374 - INFO - 127.0.0.1 - - [26/Jul/2025 13:47:26] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 13:47:26,381 - INFO - 127.0.0.1 - - [26/Jul/2025 13:47:26] "GET /static/js/app.js HTTP/1.1" 200 -
2025-07-26 13:47:27,202 - INFO - 127.0.0.1 - - [26/Jul/2025 13:47:27] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__64fbefd6_2562_48b7_89bd_01d082200669__0 HTTP/1.1[0m" 404 -
2025-07-26 13:47:27,241 - INFO - 127.0.0.1 - - [26/Jul/2025 13:47:27] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__d4794ea7_e153_4ed0_9c88_05bcb3489937__1 HTTP/1.1[0m" 404 -
2025-07-26 13:47:35,114 - INFO - 开始提取词汇 - 难度级别: advanced
2025-07-26 13:47:35,114 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 13:47:35,115 - INFO - 调用OpenAI API...
2025-07-26 13:47:35,122 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：高级/学术词汇（IELTS/TOEFL/GRE文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 词汇 (word): 单词或词组\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": ".n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 13:47:35,143 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 13:47:35,205 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x745ffa99ba50>
2025-07-26 13:47:35,206 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x74602fc97ad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 13:47:35,245 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x745ffc92b790>
2025-07-26 13:47:35,247 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 13:47:35,248 - DEBUG - send_request_headers.complete
2025-07-26 13:47:35,249 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 13:47:35,250 - DEBUG - send_request_body.complete
2025-07-26 13:47:35,250 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 13:47:35,312 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 05:47:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753508851915; path=/'), (b'Set-Cookie', b'HWWAFSESID=431999a66b0e335547; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'4f51be007515be9077c98f8ce37e43a7'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 13:47:35,315 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 13:47:35,317 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 13:47:52,899 - DEBUG - receive_response_body.complete
2025-07-26 13:47:52,899 - DEBUG - response_closed.started
2025-07-26 13:47:52,900 - DEBUG - response_closed.complete
2025-07-26 13:47:52,900 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 13:47:52,902 - DEBUG - 原始解析到 7 个词汇项
2025-07-26 13:47:52,903 - DEBUG - 验证后保留 7 个有效词汇项
2025-07-26 13:47:52,904 - INFO - 127.0.0.1 - - [26/Jul/2025 13:47:52] "POST /extract HTTP/1.1" 200 -
2025-07-26 13:48:11,097 - INFO - 开始导出词汇表到Excel，共 7 个词汇项
2025-07-26 13:48:11,125 - INFO - 成功导出美观的词汇表: exports/vocabulary_20250726_134811.xlsx
2025-07-26 13:48:11,126 - INFO - 127.0.0.1 - - [26/Jul/2025 13:48:11] "POST /export HTTP/1.1" 200 -
2025-07-26 13:48:11,134 - INFO - 127.0.0.1 - - [26/Jul/2025 13:48:11] "GET /download/vocabulary_20250726_134811.xlsx HTTP/1.1" 200 -
2025-07-26 13:48:43,706 - INFO - 开始提取词汇 - 难度级别: basic
2025-07-26 13:48:43,707 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 13:48:43,707 - INFO - 调用OpenAI API...
2025-07-26 13:48:43,713 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：基础词汇（cet4文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 词汇 (word): 单词或词组\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": ".n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 13:48:43,717 - DEBUG - close.started
2025-07-26 13:48:43,718 - DEBUG - close.complete
2025-07-26 13:48:43,718 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 13:48:43,761 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x745ffa80cd10>
2025-07-26 13:48:43,761 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x74602fc97ad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 13:48:43,789 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x745ffa80cfd0>
2025-07-26 13:48:43,789 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 13:48:43,790 - DEBUG - send_request_headers.complete
2025-07-26 13:48:43,790 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 13:48:43,791 - DEBUG - send_request_body.complete
2025-07-26 13:48:43,791 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 13:48:43,832 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 05:48:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'e0942dc7875d94b164ba59a38b4cbcbc'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 13:48:43,833 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 13:48:43,833 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 13:49:08,544 - DEBUG - receive_response_body.complete
2025-07-26 13:49:08,545 - DEBUG - response_closed.started
2025-07-26 13:49:08,545 - DEBUG - response_closed.complete
2025-07-26 13:49:08,545 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 13:49:08,547 - DEBUG - 原始解析到 8 个词汇项
2025-07-26 13:49:08,547 - DEBUG - 验证后保留 8 个有效词汇项
2025-07-26 13:49:08,547 - INFO - 127.0.0.1 - - [26/Jul/2025 13:49:08] "POST /extract HTTP/1.1" 200 -
2025-07-26 13:53:56,608 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-26 13:53:56,609 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 13:53:56,610 - INFO -  * Restarting with stat
2025-07-26 13:53:57,283 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 13:53:57,286 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 13:53:57,968 - WARNING -  * Debugger is active!
2025-07-26 13:53:57,970 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 13:54:00,347 - INFO - 127.0.0.1 - - [26/Jul/2025 13:54:00] "GET / HTTP/1.1" 200 -
2025-07-26 13:54:00,452 - INFO - 127.0.0.1 - - [26/Jul/2025 13:54:00] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 13:54:00,458 - INFO - 127.0.0.1 - - [26/Jul/2025 13:54:00] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
2025-07-26 13:54:01,185 - INFO - 127.0.0.1 - - [26/Jul/2025 13:54:01] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__85edaab3_3fc8_4b03_a1af_a63ca71c3992__0 HTTP/1.1[0m" 404 -
2025-07-26 13:54:01,202 - INFO - 127.0.0.1 - - [26/Jul/2025 13:54:01] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__4b41d36f_5c67_4af8_b062_9596ff48ff45__1 HTTP/1.1[0m" 404 -
2025-07-26 13:54:08,343 - INFO - 开始提取词汇 - 难度级别: medium
2025-07-26 13:54:08,345 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 13:54:08,346 - INFO - 调用OpenAI API...
2025-07-26 13:54:08,357 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：中级词汇（cet6文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 词汇 (word): 单词或词组\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": ".n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 13:54:08,377 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 13:54:08,848 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f13ae612310>
2025-07-26 13:54:08,849 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f13e3497a40> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 13:54:08,886 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f13af995150>
2025-07-26 13:54:08,888 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 13:54:08,889 - DEBUG - send_request_headers.complete
2025-07-26 13:54:08,890 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 13:54:08,890 - DEBUG - send_request_body.complete
2025-07-26 13:54:08,891 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 13:54:10,449 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 05:54:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753509248456; path=/'), (b'Set-Cookie', b'HWWAFSESID=cfa048b3ea0597ef07; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'5121efc71c5e2b65cd0237a645263648'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 13:54:10,452 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 13:54:10,453 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 13:54:28,802 - DEBUG - receive_response_body.complete
2025-07-26 13:54:28,803 - DEBUG - response_closed.started
2025-07-26 13:54:28,804 - DEBUG - response_closed.complete
2025-07-26 13:54:28,804 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 13:54:28,806 - DEBUG - 原始解析到 7 个词汇项
2025-07-26 13:54:28,807 - DEBUG - 验证后保留 7 个有效词汇项
2025-07-26 13:54:28,807 - INFO - 127.0.0.1 - - [26/Jul/2025 13:54:28] "POST /extract HTTP/1.1" 200 -
2025-07-26 13:55:51,905 - INFO - 开始提取词汇 - 难度级别: medium
2025-07-26 13:55:51,906 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 13:55:51,907 - INFO - 调用OpenAI API...
2025-07-26 13:55:51,911 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：中级词汇（cet6文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 词汇 (word): 单词或词组\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": ".n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 13:55:51,913 - DEBUG - close.started
2025-07-26 13:55:51,913 - DEBUG - close.complete
2025-07-26 13:55:51,914 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 13:55:51,956 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f13ac7c9690>
2025-07-26 13:55:51,957 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f13e3497a40> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 13:55:51,990 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f13ac7c8d50>
2025-07-26 13:55:51,992 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 13:55:51,993 - DEBUG - send_request_headers.complete
2025-07-26 13:55:51,994 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 13:55:51,994 - DEBUG - send_request_body.complete
2025-07-26 13:55:51,994 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 13:55:52,046 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 05:55:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'00cf2664083973a31905d4d33e517bd7'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 13:55:52,047 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 13:55:52,047 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:00:30,859 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5001
2025-07-26 14:00:30,860 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 14:00:30,862 - INFO -  * Restarting with stat
2025-07-26 14:00:31,632 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 14:00:31,636 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 14:00:34,002 - WARNING -  * Debugger is active!
2025-07-26 14:00:34,004 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 14:00:35,569 - INFO - 127.0.0.1 - - [26/Jul/2025 14:00:35] "GET / HTTP/1.1" 200 -
2025-07-26 14:00:35,697 - INFO - 127.0.0.1 - - [26/Jul/2025 14:00:35] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 14:00:35,704 - INFO - 127.0.0.1 - - [26/Jul/2025 14:00:35] "GET /static/js/app.js HTTP/1.1" 200 -
2025-07-26 14:00:36,498 - INFO - 127.0.0.1 - - [26/Jul/2025 14:00:36] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__005953f9_7936_4882_831f_0be47de078fb__0 HTTP/1.1[0m" 404 -
2025-07-26 14:00:36,503 - INFO - 127.0.0.1 - - [26/Jul/2025 14:00:36] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__b8c68b3d_b838_44a4_8eb8_eee7db35ae4b__1 HTTP/1.1[0m" 404 -
2025-07-26 14:00:38,863 - INFO - 127.0.0.1 - - [26/Jul/2025 14:00:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-26 14:00:47,700 - INFO - 开始提取词汇 - 难度级别: advanced
2025-07-26 14:00:47,701 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:00:47,701 - INFO - 调用OpenAI API...
2025-07-26 14:00:47,709 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：高级/学术词汇（IELTS/TOEFL/GRE文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 词汇 (word): 单词或词组\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": ".n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:00:47,728 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:00:47,813 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x73d0c8060e90>
2025-07-26 14:00:47,814 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x73d0fc787ad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:00:47,858 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x73d0c72e5050>
2025-07-26 14:00:47,859 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:00:47,860 - DEBUG - send_request_headers.complete
2025-07-26 14:00:47,861 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:00:47,863 - DEBUG - send_request_body.complete
2025-07-26 14:00:47,863 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:00:47,912 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:00:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753509643545; path=/'), (b'Set-Cookie', b'HWWAFSESID=881588ed42363e6a8c; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'08ce91ce16d9591c0e1a64875a1d0181'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:00:47,915 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:00:47,916 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:01:08,069 - DEBUG - receive_response_body.complete
2025-07-26 14:01:08,070 - DEBUG - response_closed.started
2025-07-26 14:01:08,071 - DEBUG - response_closed.complete
2025-07-26 14:01:08,071 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 14:01:08,075 - DEBUG - 原始解析到 8 个词汇项
2025-07-26 14:01:08,076 - DEBUG - 验证后保留 8 个有效词汇项
2025-07-26 14:01:08,078 - INFO - 127.0.0.1 - - [26/Jul/2025 14:01:08] "POST /extract HTTP/1.1" 200 -
2025-07-26 14:01:31,743 - INFO - 开始提取词汇 - 难度级别: advanced
2025-07-26 14:01:31,744 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:01:31,745 - INFO - 调用OpenAI API...
2025-07-26 14:01:31,749 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：高级/学术词汇（IELTS/TOEFL/GRE文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 词汇 (word): 单词或词组\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": ".n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:01:31,753 - DEBUG - close.started
2025-07-26 14:01:31,754 - DEBUG - close.complete
2025-07-26 14:01:31,755 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:01:31,816 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x73d0c72ec7d0>
2025-07-26 14:01:31,817 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x73d0fc787ad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:01:31,865 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x73d0c72ecc90>
2025-07-26 14:01:31,865 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:01:31,866 - DEBUG - send_request_headers.complete
2025-07-26 14:01:31,866 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:01:31,867 - DEBUG - send_request_body.complete
2025-07-26 14:01:31,867 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:01:31,916 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:01:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'58de4edffda35d56464d90c2f1c95608'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:01:31,918 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:01:31,919 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:03:07,969 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5001
2025-07-26 14:03:07,969 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 14:03:07,970 - INFO -  * Restarting with stat
2025-07-26 14:03:08,495 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 14:03:08,497 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 14:03:09,044 - WARNING -  * Debugger is active!
2025-07-26 14:03:09,045 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 14:03:09,963 - INFO - 127.0.0.1 - - [26/Jul/2025 14:03:09] "GET / HTTP/1.1" 200 -
2025-07-26 14:03:10,025 - INFO - 127.0.0.1 - - [26/Jul/2025 14:03:10] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 14:03:10,029 - INFO - 127.0.0.1 - - [26/Jul/2025 14:03:10] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
2025-07-26 14:03:10,580 - INFO - 127.0.0.1 - - [26/Jul/2025 14:03:10] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__087a4983_348c_4c9a_a0ca_25a2c0d8914b__0 HTTP/1.1[0m" 404 -
2025-07-26 14:03:10,588 - INFO - 127.0.0.1 - - [26/Jul/2025 14:03:10] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__bcfdf2bf_7920_43dd_a05f_4d06f9f61bb3__1 HTTP/1.1[0m" 404 -
2025-07-26 14:03:21,408 - INFO - 开始提取词汇 - 难度级别: basic
2025-07-26 14:03:21,408 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:03:21,408 - INFO - 调用OpenAI API...
2025-07-26 14:03:21,412 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中提取值得注意的单词。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 筛选出符合要求的单词：基础词汇（cet4文章中值得注意的词汇）\n    3. 为每个单词提供：\n       - 词汇 (word): 单词或词组\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过10个单词\n       - 常见用法 (common-useage): 为了使我加深单词印象(1/2个例子)\n    \n    ## 筛选标准\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ]\n        },\n        {\n            "word": "paradigm",\n            "pos": ".n",\n            "definition": "a typical example or pattern",\n            "definition-ch": "范式；典范（文中指研究模型）",\n            "common-usage": [\n                "a new paradigm in physics",\n                "shift the research paradigm"\n            ]\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词是原文中出现的实际拼写\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:03:21,422 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:03:21,477 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x704afa2c4c50>
2025-07-26 14:03:21,478 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x704b2f79fad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:03:21,514 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x704afa91b8d0>
2025-07-26 14:03:21,515 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:03:21,515 - DEBUG - send_request_headers.complete
2025-07-26 14:03:21,515 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:03:21,515 - DEBUG - send_request_body.complete
2025-07-26 14:03:21,516 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:03:21,561 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:03:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753509800550; path=/'), (b'Set-Cookie', b'HWWAFSESID=3268582a5f8b7c09fb; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'0deae3850b010f5dbeb4eb05756020db'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:03:21,562 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:03:21,563 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:03:41,527 - DEBUG - receive_response_body.complete
2025-07-26 14:03:41,527 - DEBUG - response_closed.started
2025-07-26 14:03:41,528 - DEBUG - response_closed.complete
2025-07-26 14:03:41,528 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 14:03:41,529 - DEBUG - 原始解析到 8 个词汇项
2025-07-26 14:03:41,530 - DEBUG - 验证后保留 8 个有效词汇项
2025-07-26 14:03:41,530 - INFO - 127.0.0.1 - - [26/Jul/2025 14:03:41] "POST /extract HTTP/1.1" 200 -
2025-07-26 14:16:17,287 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5001
2025-07-26 14:16:17,287 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 14:16:17,288 - INFO -  * Restarting with stat
2025-07-26 14:16:17,815 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 14:16:17,818 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 14:16:18,350 - WARNING -  * Debugger is active!
2025-07-26 14:16:18,351 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 14:16:19,230 - INFO - 127.0.0.1 - - [26/Jul/2025 14:16:19] "GET / HTTP/1.1" 200 -
2025-07-26 14:16:19,293 - INFO - 127.0.0.1 - - [26/Jul/2025 14:16:19] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 14:16:19,296 - INFO - 127.0.0.1 - - [26/Jul/2025 14:16:19] "GET /static/js/app.js HTTP/1.1" 200 -
2025-07-26 14:16:19,835 - INFO - 127.0.0.1 - - [26/Jul/2025 14:16:19] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__bc48c065_6c8b_4549_adf7_7f06ea98673b__0 HTTP/1.1[0m" 404 -
2025-07-26 14:16:19,836 - INFO - 127.0.0.1 - - [26/Jul/2025 14:16:19] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__5381363e_ca35_43bd_96a5_a2ff4f887004__1 HTTP/1.1[0m" 404 -
2025-07-26 14:16:29,648 - INFO - 开始提取词汇 - 难度级别: advanced
2025-07-26 14:16:29,649 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:16:29,650 - INFO - 调用OpenAI API...
2025-07-26 14:16:29,656 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中智能识别和提取值得注意的单词和词组。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 智能识别并提取符合要求的单词和词组：高级/学术词汇（IELTS/TOEFL/GRE文章中值得注意的词汇）\n    3. 为每个词汇项提供：\n       - 词汇 (word): 单词或词组（2-4个单词的常用搭配）\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过15个单词\n       - 常见用法 (common-usage): 为了加深印象(1-2个例子)\n       - 类型 (type): "word"表示单词，"phrase"表示词组\n    \n    ## 智能识别策略\n    ### 单词识别：\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ### 词组识别：\n    - 动词短语：take into account, come up with, look forward to, get along with\n    - 名词短语：paradigm shift, breakthrough discovery, cutting edge technology\n    - 形容词短语：well-known, state-of-the-art, up-to-date, user-friendly\n    - 介词短语：in terms of, with regard to, as a result of, in light of\n    - 习语和表达：idioms, phrasal verbs, collocations\n    - 学术表达：学术写作中常用的词组搭配\n    \n    ## 提取原则\n    1. 自动识别：根据文章内容自动判断是单词还是词组\n    2. 混合输出：单词和词组混合输出，比例为单词:词组 = 2:1\n    3. 质量优先：优先提取有学习价值的词汇，避免过于简单或过于复杂的词汇\n    4. 上下文相关：确保提取的词汇在文章中有实际意义\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "paradigm shift",\n            "pos": ".n",\n            "definition": "a fundamental change in approach or underlying assumptions",\n            "definition-ch": "范式转换；根本性转变",\n            "common-usage": [\n                "the paradigm shift in technology",\n                "scientific paradigm shift"\n            ],\n            "type": "phrase"\n        },\n        {\n            "word": "breakthrough",\n            "pos": ".n",\n            "definition": "an important discovery or development",\n            "definition-ch": "突破；重大发现",\n            "common-usage": [\n                "scientific breakthrough",\n                "technological breakthrough"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "take into account",\n            "pos": ".v",\n            "definition": "to consider something when making a decision",\n            "definition-ch": "考虑；把...考虑在内",\n            "common-usage": [\n                "take into account all factors",\n                "must take into account the cost"\n            ],\n            "type": "phrase"\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词和词组是原文中出现的实际拼写\n    * 智能混合输出单词和词组，无需用户指定\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:16:29,667 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:16:29,837 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcae10dc0d0>
2025-07-26 14:16:29,838 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcb165a3ad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:16:29,877 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcae171c4d0>
2025-07-26 14:16:29,878 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:16:29,878 - DEBUG - send_request_headers.complete
2025-07-26 14:16:29,879 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:16:29,879 - DEBUG - send_request_body.complete
2025-07-26 14:16:29,879 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:16:29,943 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:16:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753510588669; path=/'), (b'Set-Cookie', b'HWWAFSESID=3e9117f8bdbb10ca56; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'b8e4c9cf2597448f8e3bb46aedd3e967'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:16:29,944 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:16:29,944 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:16:49,174 - DEBUG - receive_response_body.complete
2025-07-26 14:16:49,175 - DEBUG - response_closed.started
2025-07-26 14:16:49,175 - DEBUG - response_closed.complete
2025-07-26 14:16:49,175 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 14:16:49,177 - DEBUG - 原始解析到 6 个词汇项
2025-07-26 14:16:49,178 - INFO - 成功解析 6 个有效词汇项
2025-07-26 14:16:49,178 - INFO - 127.0.0.1 - - [26/Jul/2025 14:16:49] "POST /extract HTTP/1.1" 200 -
2025-07-26 14:17:05,830 - INFO - 开始导出词汇表到Excel，共 6 个词汇项
2025-07-26 14:17:05,870 - INFO - 成功导出美观的词汇表: exports/vocabulary_20250726_141705.xlsx
2025-07-26 14:17:05,870 - INFO - 127.0.0.1 - - [26/Jul/2025 14:17:05] "POST /export HTTP/1.1" 200 -
2025-07-26 14:17:05,879 - INFO - 127.0.0.1 - - [26/Jul/2025 14:17:05] "GET /download/vocabulary_20250726_141705.xlsx HTTP/1.1" 200 -
2025-07-26 14:17:41,886 - INFO - 开始提取词汇 - 难度级别: basic
2025-07-26 14:17:41,887 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:17:41,888 - INFO - 调用OpenAI API...
2025-07-26 14:17:41,891 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中智能识别和提取值得注意的单词和词组。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 智能识别并提取符合要求的单词和词组：基础词汇（cet4文章中值得注意的词汇）\n    3. 为每个词汇项提供：\n       - 词汇 (word): 单词或词组（2-4个单词的常用搭配）\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过15个单词\n       - 常见用法 (common-usage): 为了加深印象(1-2个例子)\n       - 类型 (type): "word"表示单词，"phrase"表示词组\n    \n    ## 智能识别策略\n    ### 单词识别：\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ### 词组识别：\n    - 动词短语：take into account, come up with, look forward to, get along with\n    - 名词短语：paradigm shift, breakthrough discovery, cutting edge technology\n    - 形容词短语：well-known, state-of-the-art, up-to-date, user-friendly\n    - 介词短语：in terms of, with regard to, as a result of, in light of\n    - 习语和表达：idioms, phrasal verbs, collocations\n    - 学术表达：学术写作中常用的词组搭配\n    \n    ## 提取原则\n    1. 自动识别：根据文章内容自动判断是单词还是词组\n    2. 混合输出：单词和词组混合输出，比例为单词:词组 = 2:1\n    3. 质量优先：优先提取有学习价值的词汇，避免过于简单或过于复杂的词汇\n    4. 上下文相关：确保提取的词汇在文章中有实际意义\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "paradigm shift",\n            "pos": ".n",\n            "definition": "a fundamental change in approach or underlying assumptions",\n            "definition-ch": "范式转换；根本性转变",\n            "common-usage": [\n                "the paradigm shift in technology",\n                "scientific paradigm shift"\n            ],\n            "type": "phrase"\n        },\n        {\n            "word": "breakthrough",\n            "pos": ".n",\n            "definition": "an important discovery or development",\n            "definition-ch": "突破；重大发现",\n            "common-usage": [\n                "scientific breakthrough",\n                "technological breakthrough"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "take into account",\n            "pos": ".v",\n            "definition": "to consider something when making a decision",\n            "definition-ch": "考虑；把...考虑在内",\n            "common-usage": [\n                "take into account all factors",\n                "must take into account the cost"\n            ],\n            "type": "phrase"\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词和词组是原文中出现的实际拼写\n    * 智能混合输出单词和词组，无需用户指定\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:17:41,892 - DEBUG - close.started
2025-07-26 14:17:41,893 - DEBUG - close.complete
2025-07-26 14:17:41,893 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:17:41,932 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcae111f610>
2025-07-26 14:17:41,933 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcb165a3ad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:17:41,965 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcae10cda50>
2025-07-26 14:17:41,965 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:17:41,966 - DEBUG - send_request_headers.complete
2025-07-26 14:17:41,966 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:17:41,967 - DEBUG - send_request_body.complete
2025-07-26 14:17:41,967 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:17:42,009 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:17:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'5e0b77c6d03d16ab92c62ef20cde934a'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:17:42,010 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:17:42,011 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:18:00,392 - DEBUG - receive_response_body.complete
2025-07-26 14:18:00,393 - DEBUG - response_closed.started
2025-07-26 14:18:00,393 - DEBUG - response_closed.complete
2025-07-26 14:18:00,393 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 14:18:00,394 - DEBUG - 原始解析到 6 个词汇项
2025-07-26 14:18:00,395 - INFO - 成功解析 6 个有效词汇项
2025-07-26 14:18:00,395 - INFO - 127.0.0.1 - - [26/Jul/2025 14:18:00] "POST /extract HTTP/1.1" 200 -
2025-07-26 14:18:52,835 - INFO - 开始提取词汇 - 难度级别: advanced
2025-07-26 14:18:52,835 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:18:52,836 - INFO - 调用OpenAI API...
2025-07-26 14:18:52,840 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中智能识别和提取值得注意的单词和词组。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 智能识别并提取符合要求的单词和词组：高级/学术词汇（IELTS/TOEFL/GRE文章中值得注意的词汇）\n    3. 为每个词汇项提供：\n       - 词汇 (word): 单词或词组（2-4个单词的常用搭配）\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过15个单词\n       - 常见用法 (common-usage): 为了加深印象(1-2个例子)\n       - 类型 (type): "word"表示单词，"phrase"表示词组\n    \n    ## 智能识别策略\n    ### 单词识别：\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ### 词组识别：\n    - 动词短语：take into account, come up with, look forward to, get along with\n    - 名词短语：paradigm shift, breakthrough discovery, cutting edge technology\n    - 形容词短语：well-known, state-of-the-art, up-to-date, user-friendly\n    - 介词短语：in terms of, with regard to, as a result of, in light of\n    - 习语和表达：idioms, phrasal verbs, collocations\n    - 学术表达：学术写作中常用的词组搭配\n    \n    ## 提取原则\n    1. 自动识别：根据文章内容自动判断是单词还是词组\n    2. 混合输出：单词和词组混合输出，比例为单词:词组 = 2:1\n    3. 质量优先：优先提取有学习价值的词汇，避免过于简单或过于复杂的词汇\n    4. 上下文相关：确保提取的词汇在文章中有实际意义\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "paradigm shift",\n            "pos": ".n",\n            "definition": "a fundamental change in approach or underlying assumptions",\n            "definition-ch": "范式转换；根本性转变",\n            "common-usage": [\n                "the paradigm shift in technology",\n                "scientific paradigm shift"\n            ],\n            "type": "phrase"\n        },\n        {\n            "word": "breakthrough",\n            "pos": ".n",\n            "definition": "an important discovery or development",\n            "definition-ch": "突破；重大发现",\n            "common-usage": [\n                "scientific breakthrough",\n                "technological breakthrough"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "take into account",\n            "pos": ".v",\n            "definition": "to consider something when making a decision",\n            "definition-ch": "考虑；把...考虑在内",\n            "common-usage": [\n                "take into account all factors",\n                "must take into account the cost"\n            ],\n            "type": "phrase"\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词和词组是原文中出现的实际拼写\n    * 智能混合输出单词和词组，无需用户指定\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:18:52,842 - DEBUG - close.started
2025-07-26 14:18:52,842 - DEBUG - close.complete
2025-07-26 14:18:52,843 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:18:52,881 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcae10dd890>
2025-07-26 14:18:52,882 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcb165a3ad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:18:52,915 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcae10dce90>
2025-07-26 14:18:52,916 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:18:52,916 - DEBUG - send_request_headers.complete
2025-07-26 14:18:52,917 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:18:52,917 - DEBUG - send_request_body.complete
2025-07-26 14:18:52,917 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:18:52,964 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:18:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'e74d07419da95b4ac18d7e484c620aa9'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:18:52,965 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:18:52,965 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:20:57,038 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5001
2025-07-26 14:20:57,039 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 14:20:57,040 - INFO -  * Restarting with stat
2025-07-26 14:20:57,633 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 14:20:57,636 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 14:20:58,187 - WARNING -  * Debugger is active!
2025-07-26 14:20:58,188 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 14:21:00,381 - INFO - 127.0.0.1 - - [26/Jul/2025 14:21:00] "GET / HTTP/1.1" 200 -
2025-07-26 14:21:00,459 - INFO - 127.0.0.1 - - [26/Jul/2025 14:21:00] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 14:21:00,462 - INFO - 127.0.0.1 - - [26/Jul/2025 14:21:00] "GET /static/js/app.js HTTP/1.1" 200 -
2025-07-26 14:21:00,995 - INFO - 127.0.0.1 - - [26/Jul/2025 14:21:00] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__67fcc4e2_aeb3_44f7_908b_1575afe5673d__0 HTTP/1.1[0m" 404 -
2025-07-26 14:21:01,006 - INFO - 127.0.0.1 - - [26/Jul/2025 14:21:01] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__8e15222d_982f_416a_b4c6_8c9efc8b08bd__1 HTTP/1.1[0m" 404 -
2025-07-26 14:21:11,988 - INFO - 开始提取词汇 - 难度级别: medium
2025-07-26 14:21:11,989 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:21:11,989 - INFO - 调用OpenAI API...
2025-07-26 14:21:11,994 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中智能识别和提取值得注意的单词和词组。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 智能识别并提取符合要求的单词和词组：中级词汇（cet6文章中值得注意的词汇）\n    3. 为每个词汇项提供：\n       - 词汇 (word): 单词或词组（2-4个单词的常用搭配）\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过15个单词\n       - 常见用法 (common-usage): 为了加深印象(1-2个例子)\n       - 类型 (type): "word"表示单词，"phrase"表示词组\n    \n    ## 智能识别策略\n    ### 单词识别：\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ### 词组识别：\n    - 动词短语：take into account, come up with, look forward to, get along with\n    - 名词短语：paradigm shift, breakthrough discovery, cutting edge technology\n    - 形容词短语：well-known, state-of-the-art, up-to-date, user-friendly\n    - 介词短语：in terms of, with regard to, as a result of, in light of\n    - 习语和表达：idioms, phrasal verbs, collocations\n    - 学术表达：学术写作中常用的词组搭配\n    \n    ## 提取原则\n    1. 自动识别：根据文章内容自动判断是单词还是词组\n    2. 混合输出：单词和词组混合输出，比例为单词:词组 = 2:1\n    3. 质量优先：优先提取有学习价值的词汇，避免过于简单或过于复杂的词汇\n    4. 上下文相关：确保提取的词汇在文章中有实际意义\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "paradigm shift",\n            "pos": ".n",\n            "definition": "a fundamental change in approach or underlying assumptions",\n            "definition-ch": "范式转换；根本性转变",\n            "common-usage": [\n                "the paradigm shift in technology",\n                "scientific paradigm shift"\n            ],\n            "type": "phrase"\n        },\n        {\n            "word": "breakthrough",\n            "pos": ".n",\n            "definition": "an important discovery or development",\n            "definition-ch": "突破；重大发现",\n            "common-usage": [\n                "scientific breakthrough",\n                "technological breakthrough"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "take into account",\n            "pos": ".v",\n            "definition": "to consider something when making a decision",\n            "definition-ch": "考虑；把...考虑在内",\n            "common-usage": [\n                "take into account all factors",\n                "must take into account the cost"\n            ],\n            "type": "phrase"\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词和词组是原文中出现的实际拼写\n    * 智能混合输出单词和词组，无需用户指定\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:21:12,004 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:21:12,062 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x723fbe178bd0>
2025-07-26 14:21:12,063 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x723ff35a7ad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:21:12,099 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x723fbe7c1010>
2025-07-26 14:21:12,100 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:21:12,100 - DEBUG - send_request_headers.complete
2025-07-26 14:21:12,101 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:21:12,101 - DEBUG - send_request_body.complete
2025-07-26 14:21:12,101 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:21:12,146 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:21:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753510869205; path=/'), (b'Set-Cookie', b'HWWAFSESID=ca371a0655c04b8d81; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'8fe8537d8bf65eba325a5b0523c7dfa5'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:21:12,147 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:21:12,148 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:21:32,380 - DEBUG - receive_response_body.complete
2025-07-26 14:21:32,380 - DEBUG - response_closed.started
2025-07-26 14:21:32,380 - DEBUG - response_closed.complete
2025-07-26 14:21:32,380 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 14:21:32,381 - DEBUG - 原始解析到 6 个词汇项
2025-07-26 14:21:32,381 - INFO - 成功解析 6 个有效词汇项
2025-07-26 14:21:32,382 - INFO - 127.0.0.1 - - [26/Jul/2025 14:21:32] "POST /extract HTTP/1.1" 200 -
2025-07-26 14:21:35,986 - INFO - 开始提取词汇 - 难度级别: medium
2025-07-26 14:21:35,986 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:21:35,987 - INFO - 调用OpenAI API...
2025-07-26 14:21:35,989 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中智能识别和提取值得注意的单词和词组。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 智能识别并提取符合要求的单词和词组：中级词汇（cet6文章中值得注意的词汇）\n    3. 为每个词汇项提供：\n       - 词汇 (word): 单词或词组（2-4个单词的常用搭配）\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过15个单词\n       - 常见用法 (common-usage): 为了加深印象(1-2个例子)\n       - 类型 (type): "word"表示单词，"phrase"表示词组\n    \n    ## 智能识别策略\n    ### 单词识别：\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ### 词组识别：\n    - 动词短语：take into account, come up with, look forward to, get along with\n    - 名词短语：paradigm shift, breakthrough discovery, cutting edge technology\n    - 形容词短语：well-known, state-of-the-art, up-to-date, user-friendly\n    - 介词短语：in terms of, with regard to, as a result of, in light of\n    - 习语和表达：idioms, phrasal verbs, collocations\n    - 学术表达：学术写作中常用的词组搭配\n    \n    ## 提取原则\n    1. 自动识别：根据文章内容自动判断是单词还是词组\n    2. 混合输出：单词和词组混合输出，比例为单词:词组 = 2:1\n    3. 质量优先：优先提取有学习价值的词汇，避免过于简单或过于复杂的词汇\n    4. 上下文相关：确保提取的词汇在文章中有实际意义\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "paradigm shift",\n            "pos": ".n",\n            "definition": "a fundamental change in approach or underlying assumptions",\n            "definition-ch": "范式转换；根本性转变",\n            "common-usage": [\n                "the paradigm shift in technology",\n                "scientific paradigm shift"\n            ],\n            "type": "phrase"\n        },\n        {\n            "word": "breakthrough",\n            "pos": ".n",\n            "definition": "an important discovery or development",\n            "definition-ch": "突破；重大发现",\n            "common-usage": [\n                "scientific breakthrough",\n                "technological breakthrough"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "take into account",\n            "pos": ".v",\n            "definition": "to consider something when making a decision",\n            "definition-ch": "考虑；把...考虑在内",\n            "common-usage": [\n                "take into account all factors",\n                "must take into account the cost"\n            ],\n            "type": "phrase"\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词和词组是原文中出现的实际拼写\n    * 智能混合输出单词和词组，无需用户指定\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:21:35,991 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:21:35,991 - DEBUG - send_request_headers.complete
2025-07-26 14:21:35,991 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:21:35,992 - DEBUG - send_request_body.complete
2025-07-26 14:21:35,992 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:21:36,038 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:21:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'1f1968431b1a278f4ecb0909d1d0cfb4'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:21:36,039 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:21:36,039 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:23:17,110 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5002
2025-07-26 14:23:17,110 - INFO - [33mPress CTRL+C to quit[0m
2025-07-26 14:23:17,111 - INFO -  * Restarting with stat
2025-07-26 14:23:17,654 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-26 14:23:17,656 - DEBUG - load_verify_locations cafile='/home/dream/article_extractor/venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-07-26 14:23:18,264 - WARNING -  * Debugger is active!
2025-07-26 14:23:18,265 - INFO -  * Debugger PIN: 102-358-388
2025-07-26 14:23:19,336 - INFO - 127.0.0.1 - - [26/Jul/2025 14:23:19] "GET / HTTP/1.1" 200 -
2025-07-26 14:23:19,421 - INFO - 127.0.0.1 - - [26/Jul/2025 14:23:19] "GET /static/css/style.css HTTP/1.1" 200 -
2025-07-26 14:23:19,425 - INFO - 127.0.0.1 - - [26/Jul/2025 14:23:19] "GET /static/js/app.js HTTP/1.1" 200 -
2025-07-26 14:23:19,988 - INFO - 127.0.0.1 - - [26/Jul/2025 14:23:19] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__b8857d88_aa3b_4eee_b1f7_4b3ef267cd80__0 HTTP/1.1[0m" 404 -
2025-07-26 14:23:19,998 - INFO - 127.0.0.1 - - [26/Jul/2025 14:23:19] "[33mGET /hybridaction/zybTrackerStatisticsAction?data={}&__callback__=__cb__zybTrackerStatisticsAction__6cb972fe_c5e2_46b6_9130_02eb5352c101__1 HTTP/1.1[0m" 404 -
2025-07-26 14:23:21,768 - INFO - 127.0.0.1 - - [26/Jul/2025 14:23:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-26 14:23:27,801 - INFO - 开始提取词汇 - 难度级别: medium
2025-07-26 14:23:27,801 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:23:27,802 - INFO - 调用OpenAI API...
2025-07-26 14:23:27,807 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中智能识别和提取值得注意的单词和词组。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 智能识别并提取符合要求的单词和词组：中级词汇（cet6文章中值得注意的词汇）\n    3. 为每个词汇项提供：\n       - 词汇 (word): 单词或词组（2-4个单词的常用搭配）\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过15个单词\n       - 常见用法 (common-usage): 为了加深印象(1-2个例子)\n       - 类型 (type): "word"表示单词，"phrase"表示词组\n    \n    ## 智能识别策略\n    ### 单词识别：\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ### 词组识别：\n    - 动词短语：take into account, come up with, look forward to, get along with\n    - 名词短语：paradigm shift, breakthrough discovery, cutting edge technology\n    - 形容词短语：well-known, state-of-the-art, up-to-date, user-friendly\n    - 介词短语：in terms of, with regard to, as a result of, in light of\n    - 习语和表达：idioms, phrasal verbs, collocations\n    - 学术表达：学术写作中常用的词组搭配\n    \n    ## 提取原则\n    1. 自动识别：根据文章内容自动判断是单词还是词组\n    2. 混合输出：单词和词组混合输出，比例为单词:词组 = 2:1\n    3. 质量优先：优先提取有学习价值的词汇，避免过于简单或过于复杂的词汇\n    4. 上下文相关：确保提取的词汇在文章中有实际意义\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "paradigm shift",\n            "pos": ".n",\n            "definition": "a fundamental change in approach or underlying assumptions",\n            "definition-ch": "范式转换；根本性转变",\n            "common-usage": [\n                "the paradigm shift in technology",\n                "scientific paradigm shift"\n            ],\n            "type": "phrase"\n        },\n        {\n            "word": "breakthrough",\n            "pos": ".n",\n            "definition": "an important discovery or development",\n            "definition-ch": "突破；重大发现",\n            "common-usage": [\n                "scientific breakthrough",\n                "technological breakthrough"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "take into account",\n            "pos": ".v",\n            "definition": "to consider something when making a decision",\n            "definition-ch": "考虑；把...考虑在内",\n            "common-usage": [\n                "take into account all factors",\n                "must take into account the cost"\n            ],\n            "type": "phrase"\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词和词组是原文中出现的实际拼写\n    * 智能混合输出单词和词组，无需用户指定\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:23:27,817 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:23:27,883 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x797744e4ed90>
2025-07-26 14:23:27,884 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x79777a2abad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:23:27,922 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x797744e4ed10>
2025-07-26 14:23:27,922 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:23:27,923 - DEBUG - send_request_headers.complete
2025-07-26 14:23:27,923 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:23:27,923 - DEBUG - send_request_body.complete
2025-07-26 14:23:27,923 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:23:27,987 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:23:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1753511007614; path=/'), (b'Set-Cookie', b'HWWAFSESID=377c68527bd3a3af1f; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'7d30f3d92668fb0d2e9e7b3c0c74b979'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:23:27,989 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:23:27,989 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:23:29,608 - INFO - 开始提取词汇 - 难度级别: medium
2025-07-26 14:23:29,609 - DEBUG - 清理后文章内容:
B Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was...
2025-07-26 14:23:29,609 - INFO - 调用OpenAI API...
2025-07-26 14:23:29,613 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n    ## 角色\n    你是专业的英语词汇分析助手，擅长从文本中智能识别和提取值得注意的单词和词组。\n    \n    ## 任务\n    1. 分析用户提供的英文文章\n    2. 智能识别并提取符合要求的单词和词组：中级词汇（cet6文章中值得注意的词汇）\n    3. 为每个词汇项提供：\n       - 词汇 (word): 单词或词组（2-4个单词的常用搭配）\n       - 词性 (pos): 使用缩写 (.n/.v/.adj/.adv/.prep/.conj/.pron等)\n       - 中文释义 (definition-ch): 简洁准确\n       - 英文释义 (definition): 简洁准确，不超过15个单词\n       - 常见用法 (common-usage): 为了加深印象(1-2个例子)\n       - 类型 (type): "word"表示单词，"phrase"表示词组\n    \n    ## 智能识别策略\n    ### 单词识别：\n    - 优先选择：专业术语、学术词汇、生动表达、非常用词汇\n    - 排除：超高频基础词汇 (the, a, is, etc.)\n    - 排除：人名、地名等专有名词（除非有特殊含义）\n    \n    ### 词组识别：\n    - 动词短语：take into account, come up with, look forward to, get along with\n    - 名词短语：paradigm shift, breakthrough discovery, cutting edge technology\n    - 形容词短语：well-known, state-of-the-art, up-to-date, user-friendly\n    - 介词短语：in terms of, with regard to, as a result of, in light of\n    - 习语和表达：idioms, phrasal verbs, collocations\n    - 学术表达：学术写作中常用的词组搭配\n    \n    ## 提取原则\n    1. 自动识别：根据文章内容自动判断是单词还是词组\n    2. 混合输出：单词和词组混合输出，比例为单词:词组 = 2:1\n    3. 质量优先：优先提取有学习价值的词汇，避免过于简单或过于复杂的词汇\n    4. 上下文相关：确保提取的词汇在文章中有实际意义\n    \n    ## 输出格式\n    {\n    "vocabulary": [\n        {\n            "word": "extract",\n            "pos": ".v",\n            "definition": "to remove or take out something",\n            "definition-ch": "提取；摘录（文中指从样本中分离物质）",\n            "common-usage": [\n                "extract data from reports",\n                "plant extracts used in medicine"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "paradigm shift",\n            "pos": ".n",\n            "definition": "a fundamental change in approach or underlying assumptions",\n            "definition-ch": "范式转换；根本性转变",\n            "common-usage": [\n                "the paradigm shift in technology",\n                "scientific paradigm shift"\n            ],\n            "type": "phrase"\n        },\n        {\n            "word": "breakthrough",\n            "pos": ".n",\n            "definition": "an important discovery or development",\n            "definition-ch": "突破；重大发现",\n            "common-usage": [\n                "scientific breakthrough",\n                "technological breakthrough"\n            ],\n            "type": "word"\n        },\n        {\n            "word": "take into account",\n            "pos": ".v",\n            "definition": "to consider something when making a decision",\n            "definition-ch": "考虑；把...考虑在内",\n            "common-usage": [\n                "take into account all factors",\n                "must take into account the cost"\n            ],\n            "type": "phrase"\n        }\n    ]\n}\n    * 只包含JSON内容，不包含任何额外文本！\n    * 确保单词和词组是原文中出现的实际拼写\n    * 智能混合输出单词和词组，无需用户指定\n    '}, {'role': 'user', 'content': '## 需要分析的英文文章:\nB Macfarlane compares the puzzle to a combination lock, ‘There are about 20 different factors and all of them need to be present before the revolution can happen,’ he says. For industry to take off, there needs to be the technology and power to drive factories, large urban populations to provide cheap labour, easy transport to move goods around, an affluent middle-class willing to buy mass-produced objects, a market-driven economy and a political system that allows this to happen. While this was the case for England, other nations, such as Japan, the Netherlands and France also met some of these criteria but were not industrialising. ‘All these factors must have been necessary but not sufficient to cause the revolution,’ says Macfarlane. ‘After all, Holland had everything except coal, while China also had many of these factors. Most historians are convinced there are one or two missing factors that you need to open the lock.'}], 'model': 'deepseek-chat', 'max_tokens': 1500, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-07-26 14:23:29,615 - DEBUG - connect_tcp.started host='api.deepseek.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-26 14:23:29,694 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x797744e83910>
2025-07-26 14:23:29,695 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x79777a2abad0> server_hostname='api.deepseek.com' timeout=5.0
2025-07-26 14:23:29,730 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x797744e838d0>
2025-07-26 14:23:29,731 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-26 14:23:29,731 - DEBUG - send_request_headers.complete
2025-07-26 14:23:29,731 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-26 14:23:29,732 - DEBUG - send_request_body.complete
2025-07-26 14:23:29,732 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-26 14:23:29,842 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 26 Jul 2025 06:23:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'6102101578ccf58826c167cde9bd13ae'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-07-26 14:23:29,843 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-07-26 14:23:29,843 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-26 14:23:47,752 - DEBUG - receive_response_body.complete
2025-07-26 14:23:47,752 - DEBUG - response_closed.started
2025-07-26 14:23:47,752 - DEBUG - response_closed.complete
2025-07-26 14:23:47,753 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 14:23:47,754 - DEBUG - 原始解析到 6 个词汇项
2025-07-26 14:23:47,754 - INFO - 成功解析 6 个有效词汇项
2025-07-26 14:23:47,755 - INFO - 127.0.0.1 - - [26/Jul/2025 14:23:47] "POST /extract HTTP/1.1" 200 -
2025-07-26 14:23:49,302 - DEBUG - receive_response_body.complete
2025-07-26 14:23:49,303 - DEBUG - response_closed.started
2025-07-26 14:23:49,303 - DEBUG - response_closed.complete
2025-07-26 14:23:49,304 - DEBUG - HTTP Request: POST https://api.deepseek.com/chat/completions "200 OK"
2025-07-26 14:23:49,305 - DEBUG - 原始解析到 6 个词汇项
2025-07-26 14:23:49,305 - INFO - 成功解析 6 个有效词汇项
2025-07-26 14:23:49,306 - INFO - 127.0.0.1 - - [26/Jul/2025 14:23:49] "POST /extract HTTP/1.1" 200 -
2025-07-26 14:24:05,893 - INFO - 开始导出词汇表到Excel，共 6 个词汇项
2025-07-26 14:24:05,925 - INFO - 成功导出美观的词汇表: exports/vocabulary_20250726_142405.xlsx
2025-07-26 14:24:05,925 - INFO - 127.0.0.1 - - [26/Jul/2025 14:24:05] "POST /export HTTP/1.1" 200 -
2025-07-26 14:24:05,936 - INFO - 127.0.0.1 - - [26/Jul/2025 14:24:05] "GET /download/vocabulary_20250726_142405.xlsx HTTP/1.1" 200 -
